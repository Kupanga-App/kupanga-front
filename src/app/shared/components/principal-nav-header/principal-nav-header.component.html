<header class="sticky top-0 z-50 bg-white shadow-sm">
  <!-- Level 1: Main Header -->
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <div class="text-2xl font-bold text-slate-800 logo-text">Kupanga</div>

      <div class="hidden md:block w-1/3 items-center justify-center center">
        <!-- Bouton deposer une annonce -->
        <p-button label="Ajouter un bien" icon="pi pi-plus" [rounded]="true" />

        <!-- Search Bar -->
        <div class=" search-container">
          <span class="p-input-icon-left w-full search-content">
            <i class="pi pi-search"></i>
            <input type="text" placeholder="Rechercher un bien..." class="w-full input-field" />
          </span>
        </div>
      </div>

      <!-- Right Actions -->
      <div class="flex items-center gap-4">
        <button pButton icon="pi pi-envelope" pBadge value="2" [text]="true" severity="secondary" class="relative"></button>
        <button pButton icon="pi pi-bell" [text]="true" severity="secondary"></button>
        <button pButton icon="pi pi-heart" [text]="true" severity="secondary"></button>

        <!-- User Menu -->
        <div class="flex items-center gap-2 cursor-pointer" (click)="userMenu.toggle($event)">
          <button pButton icon="pi pi-user" [text]="true" severity="primary"></button>
          <!-- p-avatar [label]="(user$ | async)?.name?.charAt(0) || 'U'" shape="circle" styleClass="bg-emerald-500 text-white"></p-avatar -->
          <p-menu #userMenu [model]="userMenuItems" [popup]="true"></p-menu>
        </div>
      </div>
    </div>
  </div>

  <!-- Level 2: Business Navigation -->
  <nav class="bg-white border-t border-slate-200">
    <div class="container mx-auto px-4">
      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center justify-between h-12">
        <div class="flex items-center gap-5">
          @for (item of navItems; track item.routerLink; let last = $last) {
            <a
              [routerLink]="item.routerLink"
              routerLinkActive="text-emerald-500 border-b-2 border-emerald-500"
              class="text-slate-600 hover:text-slate-900 font-medium"
            >
              {{ item.label }}
            </a>
            @if (!last) {
              <span>â€¢</span>
            }
          }
        </div>
      </div>

      <!-- Mobile Navigation -->
      <div class="md:hidden flex items-center justify-between h-12">
          <button pButton icon="pi pi-bars" (click)="mobileMenu.toggle($event)" [text]="true" severity="secondary"></button>
          <p-menu #mobileMenu [model]="mobileNavItems" [popup]="true"></p-menu>
          <button *ngIf="(userType$ | async) === 'owner'" pButton icon="pi pi-plus" size="small"></button>
      </div>
    </div>
  </nav>
</header>
